<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
 [y] hybris Platform

 Copyright (c) 2000-2012 hybris AG
 All rights reserved.

 This software is the confidential and proprietary information of hybris
 ("Confidential Information"). You shall not disclose such Confidential
 Information and shall use it only in accordance with the terms of the
 license agreement you entered into with hybris.
-->
<!--
	Typecode values between 0 and 10000 are reserved for hybris-internal use
	Typecodes larger than 10000, excluding
		- 100xx, 132xx, 234xx,239xx, 244xx,245xx, 327xx
	are free for use
	
	GlobalLink uses 1820x 
-->
<items xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="items.xsd">

	<!-- Collectiontypes are considered for deprecation, thus we use relations -->
	<enumtypes>
		<enumtype code="GlobalLinkJobStatus">
			<description>The status of a GlobalLinkJob</description>
			<value code="QUEUED" />
			<value code="IN_PROGRESS" />
			<value code="CANCELED" />
			<value code="COMPLETE" />
			<value code="ERROR" />
			<value code="WARNING" />
		</enumtype>
		<enumtype code="GlobalLinkJobItemTargetStatus">
			<description>The status of a GlobalLinkJobItemTarget</description>
			<value code="QUEUED" />
			<value code="IN_PROGRESS" />
			<value code="COMPLETE" />
			<value code="CANCELED" />
			<value code="ERROR" />
			<value code="WARNING" />
		</enumtype>
	</enumtypes>
	
	<relations>
		<!-- Important: many-to-one relations are buggy, use one-to-many -->
		<relation code="GlobalLinkNotificationRecipients" localized="false">
			<description>eMail addresses to notify upon errors during cron jobs</description>
			<sourceElement type="GlobalLinkConfig" qualifier="config" cardinality="one">
				<modifiers optional="false" />
			</sourceElement>
			<targetElement type="GlobalLinkNotificationRecipient" qualifier="notificationRecipients" cardinality="many" collectiontype="set">
				<modifiers partof="true" />
			</targetElement>
		</relation>
		<relation code="GlobalLinkLanguageMappings" localized="false">
			<description>GlobalLinkLanguageMappings of a GlobalLinkConfig</description>
			<sourceElement type="GlobalLinkConfig" qualifier="config" cardinality="one">
				<modifiers optional="false" />
			</sourceElement>
			<targetElement type="GlobalLinkLanguageMapping" qualifier="languageMappings" cardinality="many" collectiontype="set">
				<modifiers partof="true" />
			</targetElement>
		</relation>
		<relation code="GlobalLinkProductPreviewURLMappings" localized="false">
			<description>GlobalLinkProductPreviewURLMappings of a GlobalLinkConfig</description>
			<sourceElement type="GlobalLinkConfig" qualifier="config" cardinality="one">
				<modifiers optional="false" />
			</sourceElement>
			<targetElement type="GlobalLinkProductPreviewURLMapping" qualifier="productPreviewURLMappings" cardinality="many" collectiontype="set">
				<modifiers partof="true" />
			</targetElement>
		</relation>
		<relation code="GlobalLinkClassAttributeAssignments" localized="false">
			<description>ClassAttributeAssignments of a GlobalLinkConfig</description>
			<sourceElement type="GlobalLinkConfig" qualifier="config" cardinality="one" />
			<targetElement type="ClassAttributeAssignment" qualifier="classificationAttributeAssignments" cardinality="many" collectiontype="set" />
		</relation>
		<relation code="GlobalLinkTypeConfigurations" localized="false">
			<description>The GlobalLinkTypeConfigurations of a GlobalLinkConfig </description>
			<sourceElement type="GlobalLinkConfig" qualifier="config" cardinality="one" />
			<targetElement type="GlobalLinkTypeConfiguration" qualifier="typeConfigurations" cardinality="many" collectiontype="set">
				<modifiers partof="true" />
			</targetElement>
		</relation>
		<relation code="GlobalLinkTypeAttributesConfiguration" localized="false">
			<description>The attributes selected for a given GlobalLinkTypeConfiguration </description>
			<deployment table="tdc_type_conf_attr" typecode="18212"/>
			<sourceElement type="GlobalLinkTypeConfiguration" qualifier="configs" cardinality="many" />
			<targetElement type="AttributeDescriptor" qualifier="attributes" cardinality="many" collectiontype="set" />
		</relation>
		<relation code="GlobalLinkJobTargetLanguages" localized="false">
			<description>The target languages of a GlobalLinkJob</description>
			<deployment table="tdc_job_target_lang" typecode="18210"/>
			<sourceElement type="GlobalLinkJob" qualifier="jobs" cardinality="many" />
			<targetElement type="Language" qualifier="targetLanguages" cardinality="many" collectiontype="set" />
		</relation>
		<relation code="GlobalLinkJobItems" localized="false">
			<description>A GlobalLinkJob's GlobalLinkJobItems</description>
			<sourceElement type="GlobalLinkJob" qualifier="job" cardinality="one">
				<modifiers optional="false" />
			</sourceElement>
			<targetElement type="GlobalLinkJobItem" qualifier="jobItems" cardinality="many" collectiontype="set">
				<!--
					While both ends of this relation should be optional="false", Hybris cannot deal with these
					circular, mandatory references. We therefore drop it on the job.jobItems.
					// TODO update if there is a solution given in the Forum
				 -->
				<modifiers partof="true" />
			</targetElement>
		</relation>
		<relation code="GlobalLinkJobItemTargets" localized="false">
			<description>A GlobalLinkJobItem's GlobalLinkJobItemTarget'</description>
			<sourceElement type="GlobalLinkJobItem" qualifier="jobItem" cardinality="one">
				<modifiers optional="false" />
			</sourceElement>
			<targetElement type="GlobalLinkJobItemTarget" qualifier="targets" cardinality="many" collectiontype="set">
				<!--
					While both ends of this relation should be optional="false", Hybris cannot deal with these
					circular, mandatory references. We therefore drop it on the job.jobItems.
					// TODO update if there is a solution given in the Forum
				 -->
				<modifiers partof="true" />
			</targetElement>
		</relation>
		<relation code="GlobalLinkSubmissionTickets" localized="false">
			<description>Submission tickets related to a GlobalLinkJob</description>
			<sourceElement type="GlobalLinkJob" qualifier="job" cardinality="one">
				<modifiers optional="false" />
			</sourceElement>
			<targetElement type="GlobalLinkSubmissionTicket" qualifier="submissionTickets" cardinality="many" collectiontype="set">
				<modifiers partof="true" />
			</targetElement>
		</relation>
		<relation code="GlobalLinkKeywordTranslations" localized="false" >
			<description>The source language keyword and its translations</description>
			<sourceElement type="Keyword" qualifier="translationSource" cardinality="one" />
			<targetElement type="Keyword" qualifier="keywordTranslations" cardinality="many" collectiontype="set" />
		</relation>
		<relation code="GlobalLinkProductFeatureTranslations" localized="false" >
			<description>The source language keyword and its translations</description>
			<sourceElement type="ProductFeature" qualifier="translationSource" cardinality="one" />
			<targetElement type="ProductFeature" qualifier="featureTranslations" cardinality="many" collectiontype="set" />
		</relation>
	</relations>

	<itemtypes>
		<itemtype code="GlobalLinkLanguageMapping">
			<deployment table="tdc_lang_mapping" typecode="18200" />
			<attributes>
				<attribute qualifier="language" type="Language">
					<persistence type="property" />
					<modifiers initial="true" write="false" optional="false" unique="true" />
				</attribute>
				<attribute qualifier="pDLocale" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(11)</value>
						</columntype>
						<columntype database="mysql">
							<value>varchar(11)</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(11)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>VARCHAR(11)</value>
						</columntype>
						<columntype>
							<value>varchar(11)</value>
						</columntype>
					</persistence>
					<modifiers optional="false" />
				</attribute>
			</attributes>
		</itemtype>
		<itemtype code="GlobalLinkProductPreviewURLMapping">
			<deployment table="tdc_prodpreview_mapping" typecode="18208" />
			<attributes>
				<attribute qualifier="catalog" type="Catalog">
					<persistence type="property" />
					<modifiers initial="true" write="false" optional="false" unique="true" />
				</attribute>
				<attribute qualifier="uRL" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(255)</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(255)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
					</persistence>
					<modifiers optional="false" />
				</attribute>
			</attributes>
		</itemtype>
		<itemtype code="GlobalLinkNotificationRecipient">
			<deployment table="tdc_notify_recipient" typecode="18201" />
			<attributes>
				<attribute qualifier="email" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(64)</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(64)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
					</persistence>
					<modifiers optional="false" initial="true" write="false" />
				</attribute>
			</attributes>
		</itemtype>
		<itemtype code="GlobalLinkSubmissionTicket">
			<deployment table="tdc_submission_ticket" typecode="18202" />
			<attributes>
				<attribute qualifier="ticket" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(64)</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(64)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
					</persistence>
					<modifiers optional="false" initial="true" write="false" />
				</attribute>
			</attributes>
		</itemtype>
		<itemtype code="GlobalLinkConfig">
			<deployment table="tdc_config" typecode="18203" />
			<attributes>
				<attribute qualifier="pDURL" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(255)</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(255)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
					</persistence>
					<modifiers optional="false" />
				</attribute>
				<attribute qualifier="username" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(64)</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(64)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
					</persistence>
					<modifiers optional="false" />
				</attribute>
				<attribute qualifier="password" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(128)</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(128)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
					</persistence>
					<modifiers optional="false" encrypted="true" search="false" />
				</attribute>
				<attribute qualifier="defaultProject" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(12)</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(12)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
					</persistence>
					<modifiers optional="false" unique="true" />
				</attribute>
				<attribute qualifier="includeFeatures" type="boolean">
					<persistence type="property" />
					<modifiers optional="false" />
					<defaultvalue>false</defaultvalue>
				</attribute>
			</attributes>
		</itemtype>
		<itemtype code="GlobalLinkTypeConfiguration">
			<deployment table="tdc_type_config" typecode="18211" />
			<attributes>
				<attribute qualifier="type" type="ComposedType">
					<persistence type="property" />
					<modifiers optional="false" initial="true" write="false" unique="true" />
				</attribute>
				<attribute qualifier="localizeSelected" type="boolean">
					<persistence type="property" />
					<modifiers optional="false" />
					<defaultvalue>false</defaultvalue>
				</attribute>
			</attributes>
		</itemtype>
		<itemtype code="GlobalLinkJob">
			<deployment table="tdc_job" typecode="18204" />
			<attributes>
				<attribute qualifier="id" type="java.lang.Long">
					<persistence type="property" />
					<modifiers optional="false" initial="true" write="false" unique="true" />
				</attribute>
				<attribute qualifier="name" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(128)</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(128)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
					</persistence>
					<modifiers optional="false" />
				</attribute>
				<attribute qualifier="creator" type="User">
					<persistence type="property" />
					<modifiers optional="false" initial="true" write="false" />
				</attribute>
				<attribute qualifier="status" type="GlobalLinkJobStatus">
					<persistence type="property" />
					<defaultvalue>em().getEnumerationValue("GlobalLinkJobStatus","QUEUED")</defaultvalue>
					<modifiers optional="false" />
				</attribute>
				<attribute qualifier="dueDate" type="java.util.Date">
					<persistence type="property" />
					<modifiers optional="false" initial="true" write="false" />
				</attribute>
				<attribute qualifier="sourceLanguage" type="Language">
					<persistence type="property" />
					<modifiers optional="false" initial="true" write="false" />
				</attribute>
				<attribute qualifier="translateKeywords" type="boolean">
					<persistence type="property" />
					<modifiers optional="false" />
					<defaultvalue>false</defaultvalue>
				</attribute>
				<attribute qualifier="translateProductFeatures" type="boolean">
					<persistence type="property" />
					<modifiers optional="false" />
					<defaultvalue>false</defaultvalue>
				</attribute>
				<attribute qualifier="submitNewAndChangedContentOnly" type="boolean">
					<persistence type="property" />
					<modifiers optional="false" />
					<defaultvalue>false</defaultvalue>
				</attribute>
				<attribute qualifier="project" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(12)</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(12)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
					</persistence>
					<modifiers optional="false" initial="true" write="false" />
				</attribute>
				<attribute qualifier="error" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(255)</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(255)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
					</persistence>
				</attribute>
			</attributes>
		</itemtype>
		<itemtype code="GlobalLinkJobItem">
			<deployment table="tdc_job_item" typecode="18205" />
			<attributes>
				<attribute qualifier="id" type="java.lang.Long">
					<persistence type="property" />
					<modifiers optional="false" initial="true" write="false" unique="true" />
				</attribute>
				<attribute qualifier="name" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(128)</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(128)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
					</persistence>
					<modifiers optional="false" />
				</attribute>
				<attribute qualifier="item" type="Item">
					<persistence type="property" />
					<modifiers optional="false" initial="true" write="false" />
				</attribute>
			</attributes>
		</itemtype>
		<itemtype code="GlobalLinkJobItemTarget">
			<deployment table="tdc_job_item_target" typecode="18209" />
			<attributes>
				<attribute qualifier="targetLanguage" type="Language">
					<persistence type="property" />
					<modifiers optional="false" initial="true" write="false" />
				</attribute>
				<attribute qualifier="status" type="GlobalLinkJobItemTargetStatus">
					<persistence type="property" />
					<defaultvalue>em().getEnumerationValue("GlobalLinkJobItemTargetStatus","QUEUED")</defaultvalue>
					<modifiers optional="false" />
				</attribute>
				<attribute qualifier="documentTicket" type="java.lang.String">
					<persistence type="property">
						<columntype database="oracle">
							<value>varchar2(128)</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(128)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
					</persistence>
				</attribute>
			</attributes>
		</itemtype>
		<!-- itemtype code="GlobalLinkAttributeSelection" typecode="18206" -->
		<itemtype code="GlobalLinkTranslatedContent">
			<deployment table="tdc_trans_content" typecode="18207" />
			<attributes>
				<attribute qualifier="item" type="Item">
					<persistence type="property" />
					<modifiers optional="false" initial="true" write="false" />
				</attribute>
				<!-- TODO
					I am not sure if we indeed need this attribute.
					If one translates "Text" to eg. French, the french translation of the "Text" will be the same,
					regardless of what the defined source language is, assuming that the same "Text" does not have
					different valid meaning in different source languages, which seems highly unlikely.
					I could image a hypthetical case, where you eg. have a value XYZ and want the translation be
					something like "derived from <Source Language>", ie. not a literal translation but a logical
					translation of some eg. metadata. Such case seems highly unlikely.
				-->
				<attribute qualifier="source" type="Language">
					<persistence type="property" />
					<modifiers optional="false" initial="true" write="false" />
				</attribute>
				<attribute qualifier="target" type="Language">
					<persistence type="property" />
					<modifiers optional="false" initial="true" write="false" />
				</attribute>
				<attribute qualifier="hashCode" type="java.lang.Integer">
					<persistence type="property" />
					<modifiers optional="false" search="false" />
				</attribute>
			</attributes>
		</itemtype>
		
		<!-- 
			Custom cronjob
		 -->
		<itemtype code="GlobalLinkCronJob" extends="CronJob">
			<attributes>
				<attribute qualifier="start" type="CronJob">
					<persistence type="property" />
				</attribute>
			</attributes>
		</itemtype>
		
		<!--
			Wizards
		-->
		<itemtype code="GlobalLinkCreateJobWizard" extends="WizardBusinessItem"
			jaloclass="org.gs4tr.projectdirector.adaptors.hybris.jalo.wizard.GlobalLinkCreateJobWizard">
			<attributes>
				<attribute qualifier="allItems" type="ItemCollection">
					<persistence type="property" />
				</attribute>
				<attribute qualifier="selectedItems" type="ItemCollection">
					<persistence type="property" />
				</attribute>
				<attribute qualifier="translateAll" type="java.lang.Boolean">
					<persistence type="property" />
					<modifiers optional="false" />
					<defaultvalue>Boolean.TRUE</defaultvalue>
				</attribute>
				<attribute qualifier="project" type="java.lang.String">
					<persistence type="property" />
					<modifiers optional="false" />
				</attribute>
				<attribute qualifier="jobName" type="java.lang.String">
					<persistence type="property" />
					<modifiers optional="false" />
				</attribute>
				<attribute qualifier="sourceLanguage" type="Language">
					<persistence type="property" />
					<modifiers optional="false" />
				</attribute>
				<attribute qualifier="targetLanguages" type="LanguageCollection">
					<persistence type="property" />
					<modifiers optional="false" />
				</attribute>
				<attribute qualifier="dueDate" type="java.util.Date">
					<persistence type="property" />
					<modifiers optional="false" />
				</attribute>
				<attribute qualifier="newAndChangedOnly" type="java.lang.Boolean">
					<persistence type="property" />
					<modifiers optional="false" />
					<defaultvalue>Boolean.FALSE</defaultvalue>
				</attribute>
<!--
				<attribute qualifier="translateKeywords" type="java.lang.Boolean">
					<persistence type="property" />
					<modifiers optional="false" />
					<defaultvalue>Boolean.FALSE</defaultvalue>
				</attribute>
-->
				<attribute qualifier="translateProductFeatures" type="java.lang.Boolean">
					<persistence type="property" />
					<modifiers optional="false" />
					<defaultvalue>Boolean.FALSE</defaultvalue>
				</attribute>
			</attributes>
		</itemtype>
	</itemtypes>
</items>
